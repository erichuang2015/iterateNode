/* iterateNode0.0.1 2016-03-06 */

!function(){function a(a,f,g,h,i,j,k){var l=a.querySelector(".iterateNode-data-types-typeof"),m=a.querySelector(".iterateNode-sanitize-key-typeof-value"),n=a.querySelector(".iterateNode-data-types");if(f.length){a.insertAdjacentHTML("beforeend",f);var o=a.querySelector(".add-items");o.addEventListener("click",function(e){if(!a.querySelector("ul")&&a.querySelector(".caretA"))return!1;if(!a.querySelector(".caretA")){var f=c({obj:g,stringModel:i,countObj:j,opened:!0},k,!0),l=b(a,f);a.appendChild(l),a.insertAdjacentHTML("beforeend","<ul></ul>")}var m=a.querySelector("ul"),n=m.children.length,o="[object Object]"==h?"key"+n:n,p=d(o,"value",k,count);m.appendChild(p)})}for(var p=0;p<k.iterateNodeDataTypes.length;p++){var q=document.createElement("option");q.value=e[p].value,q.text=e[p].label,n.add(q,p)}var r=/show/g;l.addEventListener("click",function(a){r.test(m.className)&&(m.className=m.className.replace(r,"")+" hide",n.className=n.className.replace(/hide/g,"")+" show")}),n.addEventListener("blur",function(a){m.textContent=n.value,n.className=n.className.replace(r,"")+" hide",m.className=m.className.replace(/hide/g,"")+" show"})}function b(a,b){var c=document.createElement("a");c.href="javascript:void()",c.className="caretA";var d=document.createElement("span");return d.className=b.opened?"caret open":"caret",c.addEventListener("click",function(c){c.preventDefault(),c.stopPropagation();var e=a.querySelectorAll("ul")[0];e||(b.countObj=b.countObj+"-",b.asyncFunction?b.asyncFunction(a.getAttribute("data-string-model"),function(c){b.obj=c,a.appendChild(f(b))}):a.appendChild(f(b)));var g=/open/g;g.test(d.className)?(d.className=d.className.replace(g,""),e.className+=" simpleHide"):(d.className+=" open",e&&(e.className=e.className.replace(/simpleHide/g,"")))},!1),c.appendChild(d),c}function c(a,b,d){var e=Array.isArray(b)?[]:{};for(var f in b){var g=Object.prototype.toString.call(b[h]);"[object Object]"!=g&&"[object Array]"!=g||!b[f]?e[f]=a[f]||b[f]:e[f]=a[f]?c(a[f],b[f],d):b[f]}if(d)for(var h in a)e[h]=e[h]||a[h];return e}function d(d,e,f,h){var i=Object.prototype.toString.call(e),j=i;if(f.typeOfFilter){var k=f.typeOfFilter(i,e);j=k.typeofValue,e=k.node,i=Object.prototype.toString.call(e)}var l=f.stringModel.length?f.stringModel+"?"+d:d,m=f.countObj+h,n=f.sanitizedObjects.indexOf(d)>-1?"node-iterator-text-content":"",o=f.contentEditable?" contenteditable ":"",p=!f.contentEditable||"[object Object]"!=i&&"[object Array]"!=i?"":"<span class='add-items'>+</span>",q=document.createElement("li");if(q.id="iterateNode-"+m,q.setAttribute("data-string-model",l),q.className="iterateNode-"+i.replace(/[\[\]]/g,"").replace(/\s+/,"-"),q.innerHTML="<span class='"+n+"'><i class='iterateNode-sanitize-key'>"+f.key+"</i><b class='iterateNode-sanitize-key-value'"+o+">"+d+"</b><span class='iterateNode-sanitize-separator1'>"+f.Separator1+"</span><span class='iterateNode-sanitize-key-typeof'>"+f.Typeof+"</span><span class='iterateNode-data-types-typeof'><select class='iterateNode-data-types hide'></select><i class='iterateNode-sanitize-key-typeof-value show' data-value='"+j+"'>"+j+"</i></span></span>",f.contentEditable&&a(q,p,e,i,l,m,f),f.sanitizedObjects.indexOf(d)>-1){var r=g(e);q.innerHTML+="<pre class='iterateNode-sanitizedHTML'>"+r+"</pre>"}else if("object"==typeof e&&e){if(!("[object Object]"!=i&&"[object Array]"!=i||Object.keys(e).length||f.asyncFunction))return q;var s=c({obj:e,stringModel:l,countObj:m},f,!0),t=b(q,s);q.appendChild(t)}else f.sanitizedObjects.indexOf(d)<0&&q.insertAdjacentHTML("beforeend","<span class='iterateNode-sanitize-separator2'>"+f.Separator2+"</span><b class='iterateNode-sanitize-value'"+o+">"+e+"</b>");return q}var e=[{value:"[object Number]",label:"number"},{value:"[object String]",label:"string"},{value:"[object Boolean]",label:"boolean"},{value:"[object Array]",label:"list of values"},{value:"[object Object]",label:"list of elements"},{value:"[object Null]",label:"null"}],f=function(a){var b=document.createDocumentFragment(),e=document.createElement("ul");e.className="iterateNode-obj",a.name&&(e.id=a.name,a.name=null);var f=0,g=a.filterFunction?a.filterFunction(a.obj):a.obj,i=(a.flatArrays,c(a,h,!0));for(var j in g){var k=d(j,g[j],i,f);e.appendChild(k),f++}return b.appendChild(e),b},g=function(a){return a?a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):a},h={countObj:"",stringModel:"",key:"key:",Separator1:" -- ",Typeof:"typeof:",Separator2:" -- ",Include:[],Exclude:[],sanitizedObjects:["outerText","innerText","innerHTML","outerHTML"],iterateNodeDataTypes:e,asyncFunction:!1};window.iterateNode=f}();
//# sourceMappingURL=iterateNode.min.js.map